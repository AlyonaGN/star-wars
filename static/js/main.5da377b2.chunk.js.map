{"version":3,"sources":["store/peopleSlice.ts","store/themeSlice.ts","store/index.ts","utils/ROUTES_MAP.js","store/hooks.ts","components/ThemeSwitcher.tsx","components/Header.tsx","images/maythe4.png","utils/api/ApiFunctional.js","utils/api/API_CONSTS.js","utils/localStorage/STORAGE_KEYS.ts","components/Person.tsx","images/star.svg","images/wars.svg","components/Preloader.tsx","images/vader.jpg","components/People.tsx","utils/helpers/getRandomId.js","components/Main.tsx","components/App.tsx","components/ErrorBoundary.tsx","index.js"],"names":["peopleSlice","createSlice","name","initialState","person","personName","img","reducers","setPerson","state","action","payload","actions","peopleReducer","reducer","themeSlice","isDark","setTheme","themeReducer","store","configureStore","people","theme","ROUTES_MAP","useAppDispatch","useDispatch","useAppSelector","useSelector","ThemeSwitcher","dispatch","className","type","id","onChange","Header","src","alt","getPerson","baseUrl","fetch","method","headers","then","res","json","catch","err","Promise","reject","Error","status","SWAPI_BASE_URL","KEYS","Person","Preloader","star","wars","PeopleComponent","useState","isLoading","setIsLoading","setErr","createPerson","useCallback","onPersonReceipt","url","image","split","length","isValidIdInStorage","compose","JSON","parse","day","Date","getDate","isIdExpired","localStorage","getItem","useEffect","setTimeout","vader","Math","floor","random","idAndTime","toString","setItem","stringify","uuidv4","Main","People","App","path","ErrorBoundary","hasError","error","errorInfo","console","this","props","children","_","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5da377b2.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { PersonInterface } from '../interfaces/Person';\nimport type { RootState } from './index';\n\ninterface PeopleState {\n  person: PersonInterface\n};\n\nconst initialState: PeopleState = {\n  person: { personName: '', img: '' }\n};\n\nexport const peopleSlice = createSlice({\n  name: 'people',\n  initialState,\n  reducers: {\n    setPerson: (state, action: PayloadAction<PersonInterface>) => {\n      state.person = action.payload\n    }\n  }\n});\n\nexport const { setPerson } = peopleSlice.actions;\nexport const person = (state: RootState) => state.people.person;\nexport const peopleReducer = peopleSlice.reducer;\n\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport type { RootState } from './index';\n\ninterface ThemeState {\n  isDark: boolean\n};\n\nconst initialState: ThemeState = {\n  isDark: true\n};\n\nexport const themeSlice = createSlice({\n  name: 'theme',\n  initialState,\n  reducers: {\n    setTheme: (state, action: PayloadAction<boolean>) => {\n      state.isDark = action.payload\n    }\n  }\n});\n\nexport const { setTheme } = themeSlice.actions;\nexport const isDark = (state: RootState) => state.theme.isDark;\nexport const themeReducer = themeSlice.reducer;\n\n","import { configureStore } from '@reduxjs/toolkit';\nimport { peopleReducer } from './peopleSlice';\nimport { themeReducer } from './themeSlice';\n\nexport const store = configureStore({\n  reducer: {\n    people: peopleReducer,\n    theme: themeReducer\n  }\n});\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","export const ROUTES_MAP = {\n  MAIN: '/',\n};\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './index';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import React from 'react';\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\nimport { setTheme } from '../store/themeSlice';\n\nconst ThemeSwitcher: React.FC = () => {\n  const isDark = useAppSelector(state => state.theme.isDark);\n  const dispatch = useAppDispatch();\n  return (\n    <div className=\"switcher\">\n      <input\n        type=\"checkbox\"\n        id=\"toggle-button\"\n        className=\"switcher__toggle-button\"\n        onChange={() => dispatch(setTheme(!isDark))}\n      />\n    </div>\n  );\n};\n\n\n\nexport default ThemeSwitcher;\n","import ThemeSwitcher from './ThemeSwitcher';\nimport maythe4 from '../images/maythe4.png';\n\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={maythe4}\n        alt=\"May the Force Be With You\"\n      />\n      <ThemeSwitcher />\n    </div>\n  );\n};\n\nexport default Header;\n","export default \"data:image/png;base64,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\"","export const getPeople = (baseUrl) => {\n  return fetch(`${baseUrl}/people`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      return Promise.reject(new Error(`Ошибка: ${err.status}`));\n    });\n};\n\nexport const getPerson = (baseUrl, id) => {\n  return fetch(`${baseUrl}/people/${id}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      return Promise.reject(new Error(`Ошибка: ${err.status}`));\n    });\n};\n","export const SWAPI_BASE_URL = `https://swapi.dev/api`;\n\nexport const IMG_URL =\n  'https://starwars-visualguide.com/assets/img/characters/';\n","export const KEYS: { [key: string]: string } = {\n  id: 'id'\n};\n","import React from 'react';\n\ninterface PersonProps {\n  personName: string;\n  img: string;\n}\n\nconst Person: React.FC<PersonProps> = ({ personName, img }: PersonProps)  => {\n  return (\n    <div\n      data-personname={personName}\n      className=\"person\"\n    >\n      <img className=\"person__img\" src={img} alt='character-pic' />\n      <h2 className=\"person__name\">{personName}</h2>\n    </div>\n  );\n};\n\nexport default Person;\n","export default __webpack_public_path__ + \"static/media/star.669bd576.svg\";","export default __webpack_public_path__ + \"static/media/wars.731df4d6.svg\";","import star from '../images/star.svg';\nimport wars from '../images/wars.svg';\n\nexport const Preloader = () => (\n  <div className=\"preloader\">\n    <img src={star} alt=\"Star\" className=\"preloader__star\" />\n    <img src={wars} alt=\"Wars\" className=\"preloader__wars\" />\n    <h2 className=\"preloader__byline\" id=\"byline\">\n      The Force Awakens\n    </h2>\n  </div>\n);\n","export default __webpack_public_path__ + \"static/media/vader.fb9217b2.jpg\";","import React, { useCallback, useEffect, useState } from 'react';\nimport { compose } from 'redux';\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\nimport { setPerson } from '../store/peopleSlice';\nimport { v4 as uuidv4 } from 'uuid';\nimport { PersonInterface } from '../interfaces/Person';\nimport { getPerson } from '../utils/api/ApiFunctional';\nimport { IMG_URL, SWAPI_BASE_URL } from '../utils/api/API_CONSTS';\nimport { getRandomId } from '../utils/helpers/getRandomId';\nimport { KEYS } from '../utils/localStorage/STORAGE_KEYS';\nimport Person from './Person';\nimport { Preloader } from './Preloader';\nimport vader from '../images/vader.jpg';\n\nconst PeopleComponent: React.FC = () => {\n  const person = useAppSelector(state => state.people.person);\n  const dispatch = useAppDispatch();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [, setErr] = useState<Error>();\n  const createPerson = useCallback(\n    (name: string, img: string): PersonInterface => {\n      return {\n        personName: name,\n        img\n      };\n    },\n    []\n  );\n\n  function getId(url: string) {\n    return url.split('/')[url.split('/').length - 2];\n  }\n\n  const onPersonReceipt = useCallback(\n    (res) => {\n      setIsLoading(true);\n      const image = `${IMG_URL}${getId(res.url)}.jpg`;\n      const person = createPerson(res.name, image);\n      dispatch(setPerson(person));\n    },\n    [createPerson, dispatch]\n  );\n\n  const isIdExpired = (id: string) => {\n    return JSON.parse(id).day === new Date().getDate();\n  };\n\n  const isValidIdInStorage = compose(\n    (id) => (id ? isIdExpired(id) : false),\n    () => localStorage.getItem(KEYS.id)\n  );\n\n  useEffect(() => {\n\n    if (isValidIdInStorage()) {\n      const id = JSON.parse(localStorage.getItem(KEYS.id)!).id;\n      getPerson(SWAPI_BASE_URL, id)\n        .then((res) => {\n          onPersonReceipt(res);\n          setTimeout(() => {\n            setIsLoading(false);\n          }, 1000);\n        })\n        .catch(() => {\n          dispatch(setPerson({\n            personName: 'Darth Vader',\n            img: vader\n          }));\n          setIsLoading(false);\n          setErr(() => {\n            throw new Error('Couldn`t load person from swapi');\n          });\n        });\n    } else {\n      const id = getRandomId();\n      getPerson(SWAPI_BASE_URL, id)\n        .then((res) => {\n          onPersonReceipt(res);\n          const idAndTime = {\n            id: id.toString(),\n            day: new Date().getDate()\n          };\n          localStorage.setItem(KEYS.id, JSON.stringify(idAndTime));\n          setTimeout(() => {\n            setIsLoading(false);\n          }, 1000);\n        })\n        .catch(() => {\n          dispatch(setPerson({\n            personName: 'Darth Vader',\n            img: vader\n          }));\n          setIsLoading(false);\n          setErr(() => {\n            throw new Error('Couldn`t load person from swapi');\n          });\n        });\n    }\n  }, []);\n\n  return (\n    <>\n      <h1 className=\"people__title\">Today You Are...</h1>\n      {isLoading ? (\n        <Preloader />\n      ) : (\n        <div className=\"people\">\n          <Person\n            key={uuidv4()}\n            personName={person.personName}\n            img={person.img}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default PeopleComponent;\n","export function getRandomId() {\n  return Math.floor(Math.random() * 73) + 1;\n}\n","\nimport { useAppSelector } from '../store/hooks';\nimport Header from './Header';\nimport PeopleComponent from './People';\n\nconst Main: React.FC = () => {\n  const isDark = useAppSelector(state => state.theme.isDark);\n  return (\n    <div className={isDark ? \"main main_dark\" : \"main main_light\"}>\n      <Header />\n      <PeopleComponent />\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { ROUTES_MAP } from '../utils/ROUTES_MAP.js';\nimport Main from './Main';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path={ROUTES_MAP.MAIN}>\n        <Main></Main>\n      </Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import { Component, ErrorInfo, ReactNode } from \"react\";\nimport { PersonInterface } from '../interfaces/Person';\n\ninterface Props {\n  children: ReactNode;\n  setPerson: (person: PersonInterface) => void;\n}\n\ninterface State {\n  hasError: boolean;\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false\n  };\n\n  public static getDerivedStateFromError(_: Error): State {\n    return { hasError: true };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error(\"Uncaught error:\", error, errorInfo);\n  }\n\n  public render() {\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\nimport './index.css';\nimport App from './components/App';\nimport ErrorBoundary from './components/ErrorBoundary';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <BrowserRouter>\n        <ErrorBoundary>\n          <App />\n        </ErrorBoundary>\n      </BrowserRouter>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}